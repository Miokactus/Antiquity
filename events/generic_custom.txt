################
#Generic EVENTS#
################

add_namespace = generic_custom
add_namespace = welcome_event

#Grain shortage
country_event = {
	id = welcome_event.1
	title = welcome_event.1.t
	desc = welcome_event.1.d
	
	trigger = {
    }

	picture = GFX_report_event_SOV_national_academy_of_sciences
	fire_only_once = yes
	is_triggered_only = yes
	major = yes
	option = {
		name = welcome_event.1.a
		ai_chance = { factor = 20 }
		set_global_flag = AMERICAS_HIDDEN
	}
}

## A New Continent
country_event = {
	id = generic_custom.4
	title = generic_custom.4.t
	desc = generic_custom.4.d
	
	trigger = {
		NOT = { has_global_flag = AMERICAS_HIDDEN }
    }

	picture = GFX_report_event_SOV_national_academy_of_sciences
	mean_time_to_happen = { days = 1 }
	fire_only_once = yes
	major = yes
	option = {
		name = generic_custom.4.a
		ai_chance = { factor = 20 }
	}
}



#Grain shortage
country_event = {
	id = generic_custom.1
	title = generic_custom.1.t
	desc = generic_custom.1.d
	
	trigger = {
		always = no
    }

	picture = GFX_report_event_SOV_national_academy_of_sciences
	fire_only_once = no
	mean_time_to_happen = { days = 1 }
	major = no
	option = {
		name = generic_custom.1.a
		ai_chance = { factor = 20 }
		original_recipient_only = yes
		add_stability = -0.1
		add_political_power = -30
		PREV = { set_country_flag = grain_1 }
	}
}


#Grain shortage 2
country_event = {
	id = generic_custom.2
	title = generic_custom.2.t
	desc = generic_custom.2.d
	
	trigger = {
		always = no
    }

	picture = GFX_report_event_SOV_national_academy_of_sciences
	fire_only_once = no
	mean_time_to_happen = { days = 1 }
	major = no
	option = {
		name = generic_custom.2.a
		ai_chance = { factor = 20 }
		original_recipient_only = yes
		add_stability = -0.2
		add_political_power = -80
		PREV = { 
			set_country_flag = grain_2
			clr_country_flag = grain_1
		}
	}
}


#Grain shortage 3
country_event = {
	id = generic_custom.3
	title = generic_custom.3.t
	desc = generic_custom.3.d
	
	trigger = {
		always = no
    }

	picture = GFX_report_event_SOV_national_academy_of_sciences
	fire_only_once = no
	mean_time_to_happen = { days = 1 }
	major = no
	option = {
		name = generic_custom.3.a
		ai_chance = { factor = 20 }
		original_recipient_only = yes
		add_stability = -0.3
		add_political_power = -120
		PREV = {
			start_civil_war = {
    			# Original country's ideology changes to communism
    			ideology = communism
    			# Breakaway gets old ideology of ROOT
    			size = 0.1
    			states = {
   				}
				states_filter = {
        			is_capital = yes
    			}
    			keep_political_leader = no
    			keep_political_party_members = yes
			}
			set_country_flag = revolt_of_the_people
		}
		PREV = {
			clr_country_flag = grain_2
		}
	}
}









## Tribal Sway [TRIBAL RECEIVE]
country_event = {
	id = generic_custom.10
	title = generic_custom.10.t
	desc = generic_custom.10.d
	
	trigger = {
    }
	is_triggered_only = yes
	picture = GFX_report_event_SOV_national_academy_of_sciences
	mean_time_to_happen = { days = 1 }
	major = no
	option = { ## YES -> becomes tributary
		name = generic_custom.10.a
		ai_chance = { 
			base = 10
			modifier = {
				FROM = {
					has_opinion = {
						target = ROOT
    					value > 70
					}
				}
				add = 10
			}
		}
		FROM = { 
			country_event = generic_custom.11
		}
	}
	option = { ## NO -> nothing happens
		name = generic_custom.10.b
		ai_chance = { 
			base = 10
			modifier = {
				FROM = {
					has_opinion = {
						target = ROOT
    					value < 30
					}
				}
				add = 10
			}
		}
		FROM = { 
			country_event = generic_custom.12
		}
	}
}

## Tribal Sway [ROOT RECEIVE]
country_event = {
	id = generic_custom.11
	title = generic_custom.11.t
	desc = generic_custom.11.d
	
	trigger = {
    }
	is_triggered_only = yes
	picture = GFX_report_event_SOV_national_academy_of_sciences
	mean_time_to_happen = { days = 1 }
	major = no
	option = { ## YES -> becomes tributary
		name = generic_custom.11.a
		ai_chance = { factor = 20 }
		FROM = {
				set_temp_variable = { oldgov = var:THIS.current_party_ideology_group }
				set_temp_variable = { demoldgov = var:THIS.party_popularity_100@democratic }
				set_temp_variable = { olioldgov = var:THIS.party_popularity_100@communism }
				set_temp_variable = { tyraoldgov = var:THIS.party_popularity_100@fascism }
				set_temp_variable = { triboldgov = var:THIS.party_popularity_100@neutrality }
                add_political_power = -50
                set_country_flag = is_tributary
            }
            ROOT = {
                add_political_power = 50
                set_autonomy = {
                    target = FROM
                    autonomous_state = autonomy_tributary
                    end_wars = no
                    end_civil_wars = no
                }
			FROM = {
				set_politics = {
    				ruling_party = var:oldgov
    				elections_allowed = no
    				election_frequency = 48
				}
				set_popularities = {
					democratic = var:demoldgov
					communism = var:olioldgov
					fascism = var:tyraoldgov
					neutrality = var:triboldgov
				}
			}
        }
	}
}

## Tribal Sway [ROOT RECEIVE]
country_event = {
	id = generic_custom.12
	title = generic_custom.12.t
	desc = generic_custom.12.d
	
	trigger = {
    }
	is_triggered_only = yes
	picture = GFX_report_event_SOV_national_academy_of_sciences
	mean_time_to_happen = { days = 1 }
	major = no
	option = { ## NO -> arg!
		name = generic_custom.12.a
		ai_chance = { factor = 20 }
	}
}